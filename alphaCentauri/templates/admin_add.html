<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Admin ADD</title>
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <style>
        .navbar {
            font-size: 1.3rem;
          }
          .navbar a {
            text-decoration: none;
            display: block;
            padding: 1rem 1rem;
          }
    
          .navbar a:hover{
            background-color: lightgray;
          }

          .msg {
            visibility: hidden;
            opacity: 0%;
            transition: opacity 0.5s;
            margin: auto;
            padding: 1rem;   
            position: absolute;
            left: 25%;
            border: solid black 1px;
          }

    </style>
    <script>

        function someDiv(){
            document.getElementById('msgDiv').style.opacity = "0%" 
        }

        function someDiv2(){
            document.getElementById('msgDiv').style.visibility = "hidden"
        }
        
        function validaForm(){
            let x = document.forms['meuForm']
            let msg = document.getElementById('msgDiv')
            let msg2 = document.getElementById('msgMae')
    
            if (x['produto'].value == ""){
                msg.innerHTML = "<h3> Campo Produto não pode ser vazio !!!</h3>"
                msg.style.backgroundColor = "#ffbbbb";
                msg.style.visibility = "visible";
                msg.style.opacity = "100%";
                setTimeout(someDiv, 2000);
                setTimeout(someDiv2, 2500);
                x['produto'].focus();
                return false;
            }
            if (x['descricao'].value == ""){
                msg.innerHTML = "<h3> Campo Descricao não pode ser vazio !!!</h3>"
                msg.style.backgroundColor = "#ffbbbb";
                msg.style.visibility = "visible";
                msg.style.opacity = "100%";
                setTimeout(someDiv, 2000);
                setTimeout(someDiv2, 2500);
                x['descricao'].focus();
                return false;
            }

            if (x['valor'].value == ""){
                msg.innerHTML = "<h3> Campo Valor não pode ser vazio !!!</h3>"
                msg.style.backgroundColor = "#ffbbbb";
                msg.style.visibility = "visible";
                msg.style.opacity = "100%";
                setTimeout(someDiv, 2000);
                setTimeout(someDiv2, 2500);
                x['valor'].focus();
                return false;
            }else{
                val = Number(x['valor'].value)
                if (isNaN(val)){
                    msg.innerHTML = "<h3> Campo Valor tem que ser um número !!!</h3>"
                    msg.style.backgroundColor = "#ffbbbb";
                    msg.style.visibility = "visible";
                    msg.style.opacity = "100%";
                    setTimeout(someDiv, 2000);
                    setTimeout(someDiv2, 2500);
                    x['valor'].focus();
                    return false;   
                }
            }
            if (x['img'].value == ""){
                msg.innerHTML = "<h3> É Preciso enviar uma foto do produto !!!</h3>"
                msg.style.backgroundColor = "#ffbbbb";
                msg.style.visibility = "visible";
                msg.style.opacity = "100%";
                setTimeout(someDiv, 2000);
                setTimeout(someDiv2, 2500);
                x['img'].focus();
                return false;
            }
        }
    </script>

</head>
<body>
    <!-- barra de navegacao -->
       <header>
        <div class="container bg-dark fixed-top">
            <nav class="navbar">
                <div class="navbar justify-content-start">
                    <a href="/admin"> ver database </a>
                    <a href="/admin/add"> incluir novo registro </a>
                </div>
                <div>
                    <a href="/"> Sair do admin/voltar para home </a>
                </div>
            </nav>
        </div>
    </header>
<!-- fim da barra de navegacao -->

<!-- main -->
<br><br><br><br><br><br>

<div id="msgMae" style="text-align: center; width: 100%; align-items: center;"> 
    <div id="msgDiv" class="msg" > 
        Div para mensagem de alerta
    </div> 
</div>

<div class="container">

    <form method="POST" name="meuForm" id="meuForm" onsubmit="return validaForm()" enctype="multipart/form-data">
        <table>
            <tr><td> ID: </td><td> <input type="text" disabled size="5" value="{{ultimo_id}}" id="id" name="id"></td></tr>
            <tr><td>Produto:</td><td><input type="text" id="produto" name="produto" size="50"></td></tr>
            <tr><td>Descricao:</td><td><textarea id="descricao" name="descricao" rows=4 cols=100></textarea></td></tr>
            <tr><td>Tipo:</td><td><input type="text" id="tipo" name="tipo" /></td></tr>
            <tr><td>Valor:</td><td><input type="number" min="1.00" id="valor" name="valor" step="0.01" /></td></tr>
            <tr><td>Imagem:</td><td><input type="file" name="file" id="file"></td></tr>
            <tr><td><br><br></td></tr>
            <tr><td colspan="2" style="text-align: center"><input type="submit" value="ENVIAR"></td></tr>

        </table>



    </form>

</div>

<!-- fim do main -->


</body>
</html>